#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "π” Real Teeth λ°°ν¬ μ¤€λΉ„ κ²€μ¦ μ‹μ‘..."

# 1. ν…μ¤νΈ μ‹¤ν–‰
echo "π§ ν…μ¤νΈ μ‹¤ν–‰ μ¤‘..."
npx pnpm run test || { echo "β ν…μ¤νΈ μ‹¤ν¨!"; exit 1; }

# 2. λΉλ“ μ‹¤ν–‰
echo "π”¨ κ°λ° λΉλ“ μ‹¤ν–‰ μ¤‘..."
npx pnpm run build:dev || { echo "β κ°λ° λΉλ“ μ‹¤ν¨!"; exit 1; }

# 3. λΉλ“ κ²°κ³Όλ¬Ό κ²€μ¦
echo "π” λΉλ“ κ²°κ³Όλ¬Ό κ²€μ¦ μ¤‘..."
if [ ! -d "dist" ]; then
  echo "β dist ν΄λ”κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤!"
  exit 1
fi

echo "β… λ¨λ“  κ²€μ¦ μ™„λ£! Push μ§„ν–‰"
